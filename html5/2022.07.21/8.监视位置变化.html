<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- 
    监视当前地理位置(请求多次):watchPosition( successcallback,errcallback,postionOptions )
     -->
    <script>
        var geo = navigator.geolocation;
        if(geo){
            geo.watchPosition(success,error,{
                enableHighAccuracy:true, //位置的准确率高
                timeout:1 * 60 * 1000, //它表明是设备必须在多长时间(单位为毫秒)内返回一个位置
            })
        }

        function success(res){
            console.log(res);
            console.log(`纬度:${res.coords.latitude},经度:${res.coords.longitude},准确度:${res.coords.accuracy}`);
        }

        function error(err){
            switch(err.code){
                case err.PERMISSION_DENIEO:
                    console.log("用户拒绝功德箱地理位置信息");
                    break;
                case err.PERMISSION_UNAVAILABLE:
                    console.log("无法获取当前位置");
                    break;
                case err.TIMEOUT:
                    console.log("操作超时");
                    break;
                case err.UNKNOWN_ERROR:
                    console.log("其他错误");
                    break;
            }
        }



    </script>
</body>
</html>